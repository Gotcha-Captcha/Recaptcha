# 리사이징 전략 비판적 분석

## 📊 현재 데이터셋 크기 분포

- **100×100**: 19,584장 (64.6%)
- **120×120**: 10,726장 (35.4%)
- **평균 크기**: 107.4×107.3
- **총 이미지**: 30,314장

## 🎯 제안된 리사이징: 112×112

### ✅ 장점

1. **크기 통일**
   - 100×100과 120×120 혼재 문제 해결
   - 일관된 특징 벡터 크기 보장

2. **HOG 파라미터 최적화**
   - `cell_size: [8, 8]` → 112 / 8 = 14 cells (정수)
   - `block_size: [2, 2]` → 2×2 cells = 16×16 pixels
   - `win_size: [112, 112]` → 전체 이미지 활용

3. **계산 효율성**
   - 배치 처리 용이
   - 메모리 사용량 예측 가능

### ⚠️ 단점 및 우려사항

#### 1. **업스케일링으로 인한 품질 저하 (100×100 → 112×112)**

**문제점:**
- 12% 확대 (100 → 112)
- **인터폴레이션으로 인한 블러링 발생 가능**
- 원본보다 해상도가 낮은 이미지를 확대 → **가짜 디테일 생성**

**영향도:**
- ✅ **낮음**: 12% 확대는 상대적으로 작은 변화
- Bilinear interpolation 사용 시 부드러운 확대
- 하지만 **원본보다 선명하지 않음**

#### 2. **다운스케일링으로 인한 정보 손실 (120×120 → 112×112)**

**문제점:**
- 7% 축소 (120 → 112)
- **고주파 정보 손실 가능**
- 미세한 디테일(예: 횡단보도 선, 신호등 세부) 손실

**영향도:**
- ✅ **낮음**: 7% 축소는 상대적으로 작은 손실
- 하지만 **LBP (Local Binary Patterns) 같은 질감 특징에 영향 가능**

#### 3. **종횡비 왜곡 가능성**

**문제점:**
- 현재 모든 이미지가 정사각형 (100×100, 120×120)
- 112×112로 리사이징해도 정사각형 유지 → **종횡비 왜곡 없음** ✅

#### 4. **HOG 특징 추출에 미치는 영향**

**현재 설정:**
- `cell_size: [8, 8]` → 112 / 8 = 14 cells
- `block_size: [2, 2]` → 2×2 cells = 16×16 pixels

**100×100 이미지의 경우:**
- 원본: 100 / 8 = 12.5 cells (비정수!) → **HOG 계산 시 패딩 또는 잘림 발생**
- 112×112: 14 cells (정수) → **정확한 HOG 계산 가능** ✅

**120×120 이미지의 경우:**
- 원본: 120 / 8 = 15 cells (정수) → HOG 계산 가능
- 112×112: 14 cells (정수) → **일관된 HOG 계산** ✅

## 🔍 비판적 판단

### 1. **데이터 손실/깨짐 가능성**

| 항목 | 평가 | 설명 |
|------|------|------|
| **정보 손실** | ⚠️ **소폭 있음** | 120×120 → 112×112: 7% 축소로 미세 디테일 손실 가능 |
| **품질 저하** | ⚠️ **소폭 있음** | 100×100 → 112×112: 12% 확대로 약간의 블러링 가능 |
| **왜곡** | ✅ **없음** | 정사각형 → 정사각형이므로 종횡비 왜곡 없음 |
| **깨짐** | ✅ **없음** | Bilinear interpolation 사용 시 자연스러운 변환 |

### 2. **대안 검토**

#### 대안 1: 100×100으로 통일
- ✅ 장점: 업스케일링 없음 (64.6% 이미지 그대로)
- ❌ 단점: 35.4% 이미지 다운스케일링 (정보 손실)
- ❌ 단점: HOG cell_size 조정 필요 (100 / 8 = 12.5 → 비정수)

#### 대안 2: 120×120으로 통일
- ✅ 장점: 다운스케일링 없음 (35.4% 이미지 그대로)
- ❌ 단점: 64.6% 이미지 업스케일링 (품질 저하)
- ✅ 장점: HOG cell_size 정수 (120 / 8 = 15)

#### 대안 3: 112×112 (현재 제안)
- ✅ 장점: 평균 크기(107.4)에 가까움 → **최소한의 변화**
- ✅ 장점: HOG 파라미터 최적화 (14 cells, 정수)
- ⚠️ 단점: 양방향 변환 (일부 업스케일링, 일부 다운스케일링)

#### 대안 4: 128×128
- ✅ 장점: 2의 거듭제곱 → 계산 효율성
- ❌ 단점: 평균보다 크게 벗어남 (107.4 → 128: 19% 증가)
- ❌ 단점: 더 많은 업스케일링 필요

### 3. **최종 권장사항: 112×112**

**이유:**
1. **평균 크기(107.4)에 가장 가까움** → 최소한의 변화
2. **HOG 파라미터 최적화** → 정수 cell 수 (14 cells)
3. **변화량 균형**:
   - 100×100 → 112×112: +12% (업스케일링)
   - 120×120 → 112×112: -7% (다운스케일링)
   - **평균 변화: 약 9.5%** (대안 중 가장 작음)

**예상 영향:**
- ✅ **데이터 손실 최소화**: 7-12% 변화는 ML 특징 추출에 큰 영향 없음
- ✅ **품질 유지**: Bilinear interpolation으로 자연스러운 변환
- ✅ **HOG 최적화**: 정수 cell 수로 정확한 특징 추출

## 📝 결론

**112×112 리사이징을 권장합니다.**

**이유:**
1. 현재 데이터셋의 평균 크기(107.4)에 가장 가까움
2. HOG 파라미터 최적화 (14 cells, 정수)
3. 변화량이 최소 (평균 9.5%)
4. 데이터 손실/깨짐 가능성 낮음 (7-12% 변화는 허용 범위)

**주의사항:**
- Bilinear interpolation 사용 (품질 저하 최소화)
- 리사이징 후 시각적 품질 검증 권장
- 필요시 후처리(sharpening) 고려
